<html>
    <head>
        <title>Front-end for API</title>
        <script defer src="https://unpkg.com/alpinejs@3.5.0/dist/cdn.min.js"></script>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div x-data="{
            responsedata: [],
            async getData() {
                fetch('https://main-service-siebevr.cloud.okteto.net/leaderboard')
                    .then(response => response.json())
                    .then(data => {
                        this.responsedata = data;
                        console.log('responsedata:', this.responsedata);
                    });
            }
        }" x-init="getData">
        <ol>
            <template x-for="rider in responsedata">
                    <li>
                        <span x-text="rider.naam"></span>
                        <span x-text="rider.ploeg"></span>
                        <span x-text="rider.punten"></span>
                    </li>
            </template>
        </ol>
        </div>
        <div x-data="{
            riderid: '',
            responsedata: [],
            async getRider() {
                fetch('https://main-service-siebevr.cloud.okteto.net/rider/' +  this.riderid)
                    .then(response => response.json())
                    .then(data => {
                        this.responsedata = data;
                        console.log('responsedata:', this.responsedata);
                    });
            }
        }">
        <input type="text" x-model="riderid" placeholder="Search on rider ID">
        <button type="button" @click="getRider()">Search</button>
        <ul>
            <template x-for="i in responsedata">
                    <li>
                        <span x-text="i"></span>
                    </li>
            </template>
        </ul>
        </div>
    </body>
</html>